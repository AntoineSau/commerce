{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Active Listings</h2>

    <p></p>

    <!-- Looping over all auctions-->
    {% for auction in auctions %}
    Click <a href="{% url 'auction' auction.id %}">here</a> to see the aution's page
        <!-- Adapting content displayed in function of what optional fields have been added or not -->
        {% if auction.category and auction.image%}
            <div class="border border-secondary rounded">
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <img src="{{ auction.image }}" alt="Image for {{ auction.title }}" style="height: 100%; width: 100%; object-fit: contain">
                        </div>
                        <div class="col-8">
                            <h1><b>{{ auction.title }}</b></h1>
                            <p></p>
                            Category: {{ auction.category }}
                            <p></p>
                            Uploaded by "{{ auction.userid.username }}"
                            <p></p>
                            Item description: <i>{{ auction.description }}</i>
                            <p></p>
                            Initial bid: "{{ auction.startingbid }}" Euros / CORRECT TO CURRENT PRICE!   
                            <p></p> 
                            PRICE: TODO            
                        </div>
                    </div>
                </div>
            </div>
            <p></p>
        {% elif auction.image %}
        <div class="border border-secondary rounded">
            <div class="container">
                <div class="row">
                    <div class="col-4">
                        <img src="{{ auction.image }}" alt="Image for {{ auction.title }}" style="height: 100%; width: 100%; object-fit: contain">
                    </div>
                    <div class="col-8">
                        <h1><b>{{ auction.title }}</b></h1>
                        <p>
                        Category: <i>Not specified</i>
                        </p>
                        <p></p>
                        Uploaded by "{{ auction.userid.username }}"
                        <p></p>
                        Item description: <i>{{ auction.description }}</i>
                        <p></p>
                        Initial bid: "{{ auction.startingbid }}" Euros / CORRECT TO CURRENT PRICE!   
                        <p></p> 
                        PRICE: TODO            
                    </div>
                </div>
            </div>
        </div>
            <p></p>

        {% elif auction.category %}
        <div class="border border-secondary rounded">
            <div class="container">
                <div class="row">
                    <div class="col-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg " alt="No Image here" style="height: 100%; width: 100%; object-fit: contain">
                    </div>
                    <div class="col-8">
                        <h1><b>{{ auction.title }}</b></h1>
                        <p></p>
                        Category: {{ auction.category }}
                        <p></p>
                        Uploaded by "{{ auction.userid.username }}"
                        <p></p>
                        Item description: <i>{{ auction.description }}</i>
                        <p></p>
                        Initial bid: "{{ auction.startingbid }}" Euros / CORRECT TO CURRENT PRICE!   
                        <p></p> 
                        PRICE: TODO            
                    </div>
                </div>
            </div>
        </div>
        <p></p>
            
        {% else %}
        <div class="border border-secondary rounded">
            <div class="container">
                <div class="row">
                    <div class="col-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg " alt="No Image here" style="height: 100%; width: 100%; object-fit: contain">
                    </div>
                    <div class="col-8">
                        <h1><b>{{ auction.title }}</b></h1>
                        <p></p>
                        Category: <i>Not specified</i>
                        <p></p>
                        Uploaded by "{{ auction.userid.username }}"
                        <p></p>
                        Item description: <i>{{ auction.description }}</i>
                        <p></p>
                        Initial bid: "{{ auction.startingbid }}" Euros / CORRECT TO CURRENT PRICE!   
                        <p></p> 
                        PRICE: TODO            
                    </div>
                </div>
            </div>
        </div>
        <p></p>
            
        {% endif %}

    <!-- Adding possibility that there is NO auction -->
    {% empty %}
        <li>There are currently no auction!</li>

    {% endfor %}
    <br>
    Do you want to sell an item? Create <a href="{% url 'createlisting' %}">here a new listing</a> 

{% endblock %}

<!-- Images 
    Cat img https://steamuserimages-a.akamaihd.net/ugc/1644340994747007967/853B20CD7694F5CF40E83AAC670572A3FE1E3D35/
    Lama img https://ih1.redbubble.net/image.1036920113.4491/st,small,845x845-pad,1000x1000,f8f8f8.u1.jpg
    NO IMG: https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg 
--> 